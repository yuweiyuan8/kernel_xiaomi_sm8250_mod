# Platform configuration
CONFIG_BOARD_XIAOMI=y

CONFIG_BUILD_ARM64_DT_OVERLAY=y

# QCACLD
CONFIG_QCA_CLD_WLAN=y
CONFIG_QCA_CLD_WLAN_PROFILE="qca6390"

# DebugFS
CONFIG_DEBUG_FS=n
CONFIG_MSM_TZ_LOG=n
CONFIG_CMA_DEBUGFS=n
CONFIG_REGMAP_ALLOW_WRITE_DEBUGFS=n
CONFIG_IPA_UT=n
CONFIG_IOMMU_TESTS=n
CONFIG_QMP_DEBUGFS_CLIENT=n

# exFAT
CONFIG_EXFAT_FS=y

# erofs
CONFIG_EROFS_FS=y

# Persistent store
CONFIG_PSTORE=y
CONFIG_PSTORE_CONSOLE=y
CONFIG_PSTORE_PMSG=y
CONFIG_PSTORE_RAM=y
CONFIG_CMDLINE="cgroup_disable=pressure ramoops_memreserve=4M"
CONFIG_BLK_WBT=y
CONFIG_BLK_WBT_SQ=y
CONFIG_MTD=y
CONFIG_MTD_BLOCK=y
CONFIG_MTD_OOPS=y
CONFIG_MTD_BLOCK2MTD=y

# GPS
CONFIG_AIROHA_GPS=y

# ION
CONFIG_ION_CAMERA_HEAP=y

# IR
CONFIG_RC_CORE=y
CONFIG_LIRC=y
CONFIG_RC_DECODERS=y
CONFIG_RC_DEVICES=y
CONFIG_IR_SPI=y

# Keyboard
CONFIG_INPUT_XIAOMI_KEYBOARD=y
CONFIG_KEYBOARD_NANO_8030=y

# Power
CONFIG_FRAME_WARN=4096
CONFIG_SMB1355_SLAVE_CHARGER=n
CONFIG_SMB1390_CHARGE_PUMP_PSY=n
CONFIG_SMB1398_CHARGER=n

# Regulator
CONFIG_I2C_RETRY=y
CONFIG_REGULATOR_PM8008=y
CONFIG_REGULATOR_QCOM_RPMH=y

# Touchscreen
CONFIG_TOUCHSCREEN_FTS=n
CONFIG_TOUCHSCREEN_SYNAPTICS_DSX=n
CONFIG_TOUCHSCREEN_SYNAPTICS_TCM=n
CONFIG_TOUCHSCREEN_ST=n
CONFIG_TOUCHSCREEN_COMMON=y

# Vibrator
CONFIG_INPUT_QTI_HAPTICS=n

# Enable USB Serial converter support
CONFIG_USB_SERIAL=y
CONFIG_USB_SERIAL_PL2303=y
CONFIG_USB_SERIAL_CH341=y
CONFIG_USB_SERIAL_FTDI_SIO=y
CONFIG_USB_SERIAL_OTI6858=y
CONFIG_USB_SERIAL_TI=y
CONFIG_USB_SERIAL_SPCP8X5=y
CONFIG_USB_SERIAL_QT2=y
CONFIG_USB_SERIAL_UPD78F0730=y
CONFIG_USB_SERIAL_CP210X=y

# Enable XLOGCHAR
CONFIG_XLOGCHAR=y

# Enable Framebuffer driver
CONFIG_FB=y

# Enable F2FS compression for some newer ROMs
CONFIG_F2FS_FS_COMPRESSION=y

# Disable Intel IGB Drievr
CONFIG_IGB=n

# More compression algorithms for ZRAM
CONFIG_CRYPTO_LZ4=y
CONFIG_CRYPTO_LZ4HC=y
CONFIG_CRYPTO_ZSTD=y

# Enable CAN Socket & USB CAN Bus dongle support
CONFIG_CAN=y
CONFIG_CAN_8DEV_USB=y
CONFIG_CAN_EMS_USB=y
CONFIG_CAN_ESD_USB2=y
CONFIG_CAN_GS_USB=y
CONFIG_CAN_KVASER_USB=y
CONFIG_CAN_MCBA_USB=y
CONFIG_CAN_UCAN=y
CONFIG_CAN_VCAN=y
CONFIG_CAN_VXCAN=y
CONFIG_CAN_SLCAN=y

# WLAN
CONFIG_CNSS_QCA6390=y

# Disable Kernel Module Signature
CONFIG_MODULE_SIG_FORCE=n

# Disbale Memory HotPlug
CONFIG_MEMORY_HOTPLUG=n
